
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>OMEGA CLOUD HACKER</title>

<style>
:root{
--primary:#00ff41;
--dim:#004400;
--blue:#00ccff;
--pink:#ff69b4;
--red:#ff3333;
--gold:#ffcc00;
}

body{
margin:0;
background:#000;
font-family:'Courier New',monospace;
color:var(--primary);
overflow:auto;
}

body.kassy-theme{
--primary:var(--pink);
--dim:#440022;
}

/* FONDO HACKER */
#stars,#matrix{
position:fixed;
inset:0;
z-index:-2;
}

.scanlines{
position:fixed;
inset:0;
pointer-events:none;
background:repeating-linear-gradient(
to bottom,
rgba(255,255,255,0.03) 0px,
rgba(255,255,255,0.03) 1px,
transparent 2px,
transparent 6px
);
z-index:-1;
}

/* LOGIN */
#login-page{
position:fixed;
inset:0;
display:flex;
justify-content:center;
align-items:center;
background:#000;
}

.login-card{
width:90%;
max-width:380px;
padding:25px;
border:1px solid var(--primary);
box-shadow:0 0 25px var(--primary);
text-align:center;
border-radius:12px;
animation:glow 2s infinite alternate;
}

@keyframes glow{
from{box-shadow:0 0 10px var(--primary);}
to{box-shadow:0 0 30px var(--primary);}
}

.hacker-input{
width:100%;
background:transparent;
border:1px solid var(--dim);
padding:14px;
color:var(--primary);
margin-bottom:10px;
border-radius:8px;
text-align:center;
font-size:16px;
}

.btn-hack{
width:100%;
background:var(--primary);
color:#000;
border:none;
padding:14px;
font-weight:bold;
border-radius:8px;
cursor:pointer;
margin-bottom:6px;
}

#main-app{
display:none;
padding:12px;
padding-bottom:120px;
overflow-y:auto;
}

.header{
display:flex;
justify-content:space-between;
border-bottom:1px solid var(--dim);
padding-bottom:10px;
margin-bottom:12px;
}

.node-card{
border:1px solid var(--dim);
padding:15px;
margin-bottom:12px;
border-radius:12px;
background:rgba(0,0,0,0.6);
}

.amount{
font-size:2rem;
margin:10px 0;
font-weight:bold;
}

.tabs{
display:flex;
gap:8px;
margin-bottom:10px;
}

.tab-btn{
flex:1;
padding:12px;
background:#000;
border:1px solid var(--dim);
color:var(--primary);
border-radius:10px;
cursor:pointer;
font-weight:bold;
}

.tab-btn.active{
border-color:var(--gold);
}

.log-row{
display:flex;
justify-content:space-between;
border-bottom:1px solid #222;
padding:6px 0;
font-size:0.8rem;
}

.btn-del{
background:var(--red);
color:#fff;
border:none;
padding:3px 8px;
font-size:0.65rem;
border-radius:6px;
cursor:pointer;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>
<canvas id="matrix"></canvas>
<div class="scanlines"></div>

<div id="login-page">
<div class="login-card">
<h2>OMEGA LOGIN</h2>

<input type="text" id="user" class="hacker-input" placeholder="USUARIO">
<input type="password" id="pass" class="hacker-input" placeholder="CONTRASEÑA">

<button class="btn-hack" onclick="login()">ACCEDER</button>
</div>
</div>

<div id="main-app">
<div class="header">
<span id="display-user"></span>
<button onclick="logout()" style="background:var(--red);color:white;border:none;padding:6px;border-radius:8px;">SALIR</button>
</div>

<div id="panel-controls"></div>

<div class="node-card">
<small>[ HISTORIAL ]</small>
<div id="panel-logs"></div>
</div>
</div>

<script>
const BIN_ID='698bb9a743b1c97be975254f';
const MASTER_KEY='$2a$10$spjxIrYFxGQiKIYND0MrkOg3V6pY4nV.R/US9pa3CWpGr3Se2vutm';

let db={auth:{},data:{}};
let currentUser="";
let currentNode="";
let vicroTab="vicro_airtm";

/* SYNC */
async function sync(push=false){
if(push){
await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`,{
method:'PUT',
headers:{'Content-Type':'application/json','X-Master-Key':MASTER_KEY},
body:JSON.stringify(db)
});
}else{
const res=await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`,{
headers:{'X-Master-Key':MASTER_KEY,'X-Bin-Meta':'false'}
});
db=await res.json();
}
}

/* LOGIN */
async function login(){
await sync();
let u=user.value.toLowerCase().trim();
let p=pass.value.trim();
if(!db.auth[u]||db.auth[u].pass!==p)return alert("Error");

currentUser=u;
document.body.className=(u==="kassy10")?"kassy-theme":"";
login-page.style.display="none";
main-app.style.display="block";
display-user.innerText="OP: "+u.toUpperCase();
renderUI();
}

function logout(){
currentUser="";
main-app.style.display="none";
login-page.style.display="flex";
}

/* UI */
function renderUI(){
let access=db.auth[currentUser].access;
let container=document.getElementById("panel-controls");
container.innerHTML="";

if(access==="vicro"){
container.innerHTML=`
<div class="tabs">
<button class="tab-btn ${vicroTab==='vicro_airtm'?'active':''}" onclick="vicroTab='vicro_airtm';renderUI()">AIRTM</button>
<button class="tab-btn ${vicroTab==='vicro_cap'?'active':''}" onclick="vicroTab='vicro_cap';renderUI()">CAP</button>
</div>`;
currentNode=vicroTab;
}else{
currentNode=(currentUser==="kassy10")?"kassy_caja":currentUser+"_caja";
}

renderCard(currentNode);
renderLogs(currentNode);
}

function renderCard(id){
if(!db.data[id])db.data[id]={saldo:0,logs:[]};
panel-controls.innerHTML+=`
<div class="node-card">
<div class="amount">$${db.data[id].saldo}</div>
<input id="c-${id}" class="hacker-input" placeholder="Concepto">
<input id="m-${id}" type="number" class="hacker-input" placeholder="Monto">
<button class="btn-hack" onclick="mov('${id}','IN')">DEP</button>
<button class="btn-hack" style="background:var(--red);color:#fff;" onclick="mov('${id}','OUT')">GAS</button>
</div>`;
}

async function mov(id,tipo){
let c=document.getElementById(`c-${id}`).value;
let m=parseFloat(document.getElementById(`m-${id}`).value);
if(!c||isNaN(m))return;

await sync();
if(!db.data[id])db.data[id]={saldo:0,logs:[]};
db.data[id].saldo+=(tipo==="IN"?m:-m);
db.data[id].logs.push({t:Date.now(),desc:c,val:m,type:tipo});
await sync(true);
renderUI();
}

function renderLogs(id){
panel-logs.innerHTML="";
if(!db.data[id])return;
db.data[id].logs.sort((a,b)=>b.t-a.t).forEach(l=>{
panel-logs.innerHTML+=`
<div class="log-row">
<span>${l.desc}</span>
<span>
${l.type==='IN'?'+':'-'}${l.val}
<button class="btn-del" onclick="deleteLog('${id}',${l.t})">X</button>
</span>
</div>`;
});
}

async function deleteLog(id,timestamp){
await sync();
let idx=db.data[id].logs.findIndex(x=>x.t===timestamp);
if(idx<0)return;
let mov=db.data[id].logs[idx];
db.data[id].saldo-=(mov.type==="IN"?mov.val:-mov.val);
db.data[id].logs.splice(idx,1);
await sync(true);
renderUI();
}

/* ⭐ ESTRELLAS */
const starCanvas=document.getElementById("stars");
const starCtx=starCanvas.getContext("2d");
function resize(){
starCanvas.width=window.innerWidth;
starCanvas.height=window.innerHeight;
matrixCanvas.width=window.innerWidth;
matrixCanvas.height=window.innerHeight;
}
window.onresize=resize;
resize();

let stars=Array(120).fill().map(()=>({
x:Math.random()*starCanvas.width,
y:Math.random()*starCanvas.height,
z:Math.random()*starCanvas.width
}));

function animateStars(){
starCtx.fillStyle="rgba(0,0,0,0.2)";
starCtx.fillRect(0,0,starCanvas.width,starCanvas.height);
starCtx.fillStyle=getComputedStyle(document.body).getPropertyValue('--primary');
stars.forEach(s=>{
s.z-=2;
if(s.z<=0)s.z=starCanvas.width;
let sx=(s.x-starCanvas.width/2)*(starCanvas.width/s.z)+starCanvas.width/2;
let sy=(s.y-starCanvas.height/2)*(starCanvas.width/s.z)+starCanvas.height/2;
starCtx.beginPath();
starCtx.arc(sx,sy,starCanvas.width/s.z,0,Math.PI*2);
starCtx.fill();
});
requestAnimationFrame(animateStars);
}
animateStars();

/* MATRIX */
const matrixCanvas=document.getElementById("matrix");
const matrixCtx=matrixCanvas.getContext("2d");
const letters="01";
const fontSize=14;
let drops=[];
function initMatrix(){
let cols=Math.floor(matrixCanvas.width/fontSize);
drops=Array(cols).fill(1);
}
initMatrix();

function drawMatrix(){
matrixCtx.fillStyle="rgba(0,0,0,0.05)";
matrixCtx.fillRect(0,0,matrixCanvas.width,matrixCanvas.height);
matrixCtx.fillStyle=getComputedStyle(document.body).getPropertyValue('--primary');
matrixCtx.font=fontSize+"px monospace";
for(let i=0;i<drops.length;i++){
let text=letters[Math.floor(Math.random()*letters.length)];
matrixCtx.fillText(text,i*fontSize,drops[i]*fontSize);
if(drops[i]*fontSize>matrixCanvas.height&&Math.random()>0.975)
drops[i]=0;
drops[i]++;
}
requestAnimationFrame(drawMatrix);
}
drawMatrix();
</script>

</body>
</html>

